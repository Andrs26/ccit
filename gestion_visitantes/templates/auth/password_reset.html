{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recuperar Contraseña</title>
    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="{% static 'img/favicon/apple-icon-57x57.png' %}">
    <link rel="apple-touch-icon" sizes="60x60" href="{% static 'img/favicon/apple-icon-60x60.png' %}">
    <link rel="apple-touch-icon" sizes="72x72" href="{% static 'img/favicon/apple-icon-72x72.png' %}">
    <link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/favicon/apple-icon-76x76.png' %}">
    <link rel="apple-touch-icon" sizes="114x114" href="{% static 'img/favicon/apple-icon-114x114.png' %}">
    <link rel="apple-touch-icon" sizes="120x120" href="{% static 'img/favicon/apple-icon-120x120.png' %}">
    <link rel="apple-touch-icon" sizes="144x144" href="{% static 'img/favicon/apple-icon-144x144.png' %}">
    <link rel="apple-touch-icon" sizes="152x152" href="{% static 'img/favicon/apple-icon-152x152.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/favicon/apple-icon-180x180.png' %}">
    <link rel="icon" type="image/png" sizes="192x192"  href="{% static 'img/favicon/android-icon-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="96x96" href="{% static 'img/favicon/favicon-96x96.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="/{% static 'img/favicon/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'img/favicon/' %}/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <!-- AOS Animation CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet">
    
    <!-- Sweetalert -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.4/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.4/dist/sweetalert2.min.js"></script>
    <style>
        body {
            background-color: #18314F;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .reset-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            max-width: 400px;
            width: 100%;
            text-align: center;
        }
        .btn-custom {
            background-color: #18314F;
            color: white;
            border-radius: 8px;
        }

        .btn-custom:hover {
            background-color: #bababa;
            color: #18314F;
            border: 1px solid #18314F;
        }
        /* Contenedor del input */
      .input-container {
        position: relative;
        margin-bottom: 20px;
        width: 100%;
      }

      /* Estilos del input */
      .input-container input {
        width: 100%;
        padding: 12px 10px;
        border: 1px solid #d8d8d8;
        border-radius: 5px;
        outline: none;
        font-size: 16px;
        background: transparent;
        transition: border-color 0.3s ease;
      }

      /* Estilos del label */
      .input-container label {
        position: absolute;
        top: 50%;
        left: 12px;
        transform: translateY(-50%);
        font-size: 16px;
        color: #888;
        background: white;
        padding: 0 5px;
        transition: all 0.3s ease-in-out;
        pointer-events: none;
      }

      /* Efecto flotante: cuando el input está enfocado o tiene contenido */
      .input-container input:focus + label,
      .input-container input:not(:placeholder-shown) + label {
        top: 0; /* Se posiciona sobre el borde */
        left: 10px;
        font-size: 14px;
        color: #18314f;
      }

      /* Remueve la sombra azul y el blur */
      .input-container input:focus {
        border-color: #18314f;
        outline: none;
        box-shadow: none;
      }

      /* Ajuste del fondo del label */
      .input-container label::before {
        content: "";
        position: absolute;
        left: -5px;
        right: -5px;
        top: 50%;
        transform: translateY(-50%);
        width: calc(100% + 10px);
        height: 10px;
        background: white;
        z-index: -1;
      }

      .btn-go-back {
        border-radius: 20px 0 0 20px;
        margin-right: 0px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }
      .btn-go-back:hover {
        color: #265d9f;
      }
    </style>
</head>
<body>
{% if messages %}
    {% for m in messages %}
        {% if m.tags == 'success' %}
            <script>
                Swal.fire({
                    title: "LISTO!",
                    text: "{{m}}",
                    icon: "{{m.tags}}",
                    showConfirmButton: false,
                    timer: 2500,
                });
            </script>
        {% elif m.tags == 'error' %}
            <script>
                Swal.fire({
                    title: "{{m.tags}}",
                    text: "{{m}}",
                    icon: "{{m.tags}}",
                    confirmButtonColor: "#57647D",
                    focusConfirm: false,
                });
            </script>
        {% elif m.tags == 'warning' %}
            <script>
                Swal.fire({
                    title: "ADVERTENCIA",
                    text: "{{m}}",
                    icon: "{{m.tags}}",
                    confirmButtonColor: "#FDBD15",
                    focusConfirm: false,
                });
            </script>
        {% elif m.tags == 'info' %}
            <script>
                Swal.fire({
                    title: "{{m.tags|upper}}",
                    text: "{{m}}",
                    icon: "{{m.tags}}",
                    confirmButtonColor: "#18314F",
                    focusConfirm: false,
                });
            </script>
        {% elif m.tags == 'debug' %}
            <script>
                Swal.fire({
                    title: "{{m.tags|upper}}",
                    text: "{{m}}",
                    icon: "{{m.tags}}",
                    confirmButtonColor: "#18314F",
                    focusConfirm: false,
                });
            </script>
        {% endif %}
    {% endfor %}
{% endif %}
    <div class="reset-container" data-aos="zoom-in-up">
        <h3 class="mb-3">Recuperar Contraseña</h3>
        <p>Ingresa tu pin para restablecer tu contraseña.</p>
        
        <form method="POST" action="{% url 'verificar_pin' %}">
            {% csrf_token %}
            <div class="input-container mb-3">
                <input type="text" name="user" id="user" class="form-control" placeholder=" " required>
                <label for="user" class="form-label">Usuario</label>
            </div>
            <div class="input-container mb-3">
                <input type="text" name="pin" id="email" class="form-control" placeholder=" " required>
                <label for="pin" class="form-label">PIN</label>
            </div>
            <button type="submit" class="btn btn-custom w-100">Restablecer contraseña</button>
        </form>

        <div class="mt-3">
            <a href="{% url 'login' %}" class="text-link">Volver al login</a>
        </div>
    </div>

    <!-- AOS Animation JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        AOS.init();
    </script>
</body>
</html>
